(()=>{"use strict";var e,t,n,r,o=[,(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2),o=n(4);const i={inFrame:window.location!==window.parent.location,isFirefox:(0,r.v)(),isKeeper:function(){return/.*(?:(\.|^)keepersecurity|keeperchat).(?:com|eu|ca|jp)$/.test(window.location.hostname)&&!/checkout/i.test(window.location.pathname)},isSafari:(0,o.G)()}},(e,t,n)=>{n.d(t,{v:()=>o});var r=n(3);function o(){return"firefox"===(0,r.q)()}},(e,t,n)=>{function r(){const e=1==(void 0!==navigator.userAgentData&&void 0!==navigator.userAgentData.platform)?navigator.userAgentData:navigator.userAgent;if("string"==typeof e)switch(!0){case e.indexOf("Chrome")>-1:return"chrome";case e.indexOf("Firefox")>-1:return"firefox";case e.indexOf("Safari")>-1:return"safari"}else switch(!0){case Boolean(e.brands.find((e=>"Chromium"===e.brand))):return"chrome";case Boolean(e.brands.find((e=>"Firefox"===e.brand||"Mozilla"===e.brand))):return"firefox";case Boolean(e.brands.find((e=>"Safari"===e.brand))):return"safari"}return null}n.d(t,{q:()=>r})},(e,t,n)=>{n.d(t,{G:()=>o});var r=n(3);function o(){return"safari"===(0,r.q)()}},(e,t,n)=>{n.d(t,{E:()=>o});var r=n(6);function o(){return(0,r.q)().toLowerCase()}},(e,t,n)=>{n.d(t,{q:()=>s});var r=n(7);function o(e){const t=chrome.runtime.getURL(e);return(0,r.MF)("runtimeGetURL"),t}var i=n(2),a=n(4);function s(){let e;return e=(0,a.G)()||(0,i.v)()?o("").slice(0,-1):"chrome-extension://"+chrome.runtime.id,e}},(e,t,n)=>{function r(e,t){t?chrome.runtime.lastError&&t(chrome.runtime.lastError.message):chrome.runtime.lastError}function o(e){return!["A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received","Could not establish connection. Receiving end does not exist.","Cannot create item with duplicate id","Cannot find menu item with id","Cannot access a chrome:// URL"].some((t=>null==e?void 0:e.includes(t)))}n.d(t,{MF:()=>r,e$:()=>o})},(e,t,n)=>{n.d(t,{Aw:()=>i,Cd:()=>a,Fz:()=>s,fx:()=>r,uq:()=>o});const r="keeper-webauthn-message",o="keeper-webauthn-message-request",i="keeper-webauthn-message-response",a="keeper-webauthn-cs-ready";function s(e){return e instanceof CustomEvent&&e.type===r}}],i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=!!(()=>{try{return browser.runtime.getURL("/")}catch(e){}})(),t=!!(()=>{try{return chrome.runtime.getURL("/")}catch(e){}})(),n=(e?browser:t&&chrome,"function"==typeof importScripts);if(location.protocol.includes("-extension:"))a.l=n?(e,t,n)=>{try{importScripts(e),t()}catch(e){t(e)}}:(e,t,n)=>{var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=t,document.body.appendChild(r)};else{if(n)throw new TypeError("Unable to determinate the chunk loader: content script + Worker");a.l=()=>{throw new Error("No loader for content script is found. You must set output.environment.dynamicImport to enable ES Module loader, or specify the background entry in your webpack config to enable the classic loader.")}}var r=a.l;a.l=(e,t,n)=>{import(e).then((()=>t()),(o=>{r(e,t,n)}))}})(),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e=!!(()=>{try{return browser.runtime.getURL("/")}catch(e){}})(),t=!!(()=>{try{return chrome.runtime.getURL("/")}catch(e){}})(),n=e?browser:t?chrome:{get runtime(){throw new Error("No chrome or browser runtime found")}},r="content_scripts/custom_elements/dist/",a.p="function"==typeof importScripts?r:n.runtime.getURL(r),(()=>{var e={0:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkkeeper_browser_extension=self.webpackChunkkeeper_browser_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=a(1),t=a(8),n=a(5);if(location.href.includes("chrome-extension://")||location.href.includes("moz-extension://")||location.href.includes("safari-web-extension://"))throw new Error("Wrong Extension Context. The content script is bundled into this space");async function r(){return await Promise.all([a.e(2),a.e(1)]).then(a.bind(a,9))}async function o(){return(await r()).eventHandlers}async function i(){const e=await r();await e.injectedScriptReady()}window.attachedListeners||(window.attachedListeners=!0,function(){window.onmessage=async function(t){if(!1!==t.isTrusted&&!e.Z.inFrame&&t.origin===(0,n.E)()){await i();const{handleWindowPostMessage:e}=await o();e.call(this,t)}},window.addEventListener(t.fx,(async function(e){if((0,t.Fz)(e)){await i();const{handleWebauthnRequest:t}=await o();t.call(this,e)}}));const r={type:t.Cd},a=e.Z.isFirefox&&"function"==typeof cloneInto?cloneInto(r,document.defaultView):r,s=new CustomEvent(t.fx,{detail:a});window.dispatchEvent(s)}(),e.Z.inFrame?new Promise((e=>{const t=document.getElementsByTagName("input"),n=document.getElementsByTagName("select"),r=document.getElementsByTagName("textarea"),o=()=>t.length+n.length+r.length>0;if(o())return e();new MutationObserver(((t,n)=>{o()&&(n.disconnect(),e())})).observe(document.body,{subtree:!0,childList:!0})})).then(i):i())})()})();